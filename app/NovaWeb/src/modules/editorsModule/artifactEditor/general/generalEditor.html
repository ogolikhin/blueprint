<div ng-if="$ctrl.isLoading" class="app-loading">
    <span class="glyphicon glyphicon-refresh spin"></span>
    <span>Loading...</span>
</div>

<div class="artifact-overview" ng-if="!$ctrl.isLoading">
    <div class="content" ng-if="$ctrl.isLoaded">
        <form novalidate>
            <div class="properties system-properties__container" ng-class="{'is-collapsed': isSystemPropertiesCollapsed || !userInteracted}">
                <div class="heading"
                     ng-click="isSystemPropertiesCollapsed = isSystemPropertiesCollapsed === undefined ? false : !isSystemPropertiesCollapsed; userInteracted = true;">
                    {{::$root.config.labels['App_Properties_System_Properties_Label']}}
                </div>
                <div class="system-properties content"
                     ng-class="{'is-collapsed': isSystemPropertiesCollapsed || !userInteracted}">
                    <formly-form model="$ctrl.model" fields="$ctrl.systemFields">
                    </formly-form>
                </div>
            </div>
            <uib-tabset ng-if="$ctrl.isNoteFieldsAvailable">
                <uib-tab ng-repeat="field in $ctrl.noteFields" heading="{{field.data.name}}">
                    <formly-form model="$ctrl.model" fields="[field]">
                    </formly-form>
                </uib-tab>
            </uib-tabset>
        </form>
    </div>
</div>
