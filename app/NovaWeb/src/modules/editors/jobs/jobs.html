<div class="page-content">
    <div class="page-heading">
        <div class="artifact-heading">
            <div class="artifact-heading-group1">                        
                <div class="artifact-heading-group2">
                    <div class="col-md-2">
                        <div class="name">Jobs</div>
                    </div>
                    <div class="col-md-10">
                        <div class="pull-right">
                            <button class="toolbar-button btn btn-secondary btn-small ng-binding ng-scope" bp-tooltip="Next page" ng-click="$ctrl.loadNextPage()">
                                    <span class="toolbar-button__icon ng-scope fonticon2-arrow-right"></span> 
                            </button>
                        </div>
                        <div class="pull-right">
                            <button class="toolbar-button btn btn-secondary btn-small ng-binding ng-scope" bp-tooltip="Reload jobs" ng-click="$ctrl.loadPage(1)">
                                    <span class="toolbar-button__icon ng-scope fonticon2-refresh-line"></span> 
                            </button>
                        </div>
                    </div>                    
                </div>
            </div>
        </div>
    </div>
    <div class="page-body-wrapper">
        <div class="page-body">
            <div ng-if="$ctrl.isLoading" class="app-loading">
                <span class="glyphicon glyphicon-refresh spin"></span>
                {{::$ctrl.localization.get('App_LoadingMsg') }}
            </div>

            <ul class="list-unstyled" ng-if="!$ctrl.isLoading">
                <li class="jobs__results--item"
                    ng-repeat="item in $ctrl.jobs track by $index">
                    <div class="row small-gutter">
                        <div class="col-md-1 text-center">
                            <div class="row">
                                <div class="font-blue jobs__itemsicon">
                                    <i class="icon-document"></i>   
                                </div>
                            </div>
                            <div class="row">
                                <div class="font-blue jobs__type">
                                    {{$ctrl.getType(item.jobType)}}
                                </div>                    
                            </div>
                        </div>
                        <div class="col-md-10">
                            <div class="row jobs__firstrow">
                                <div class="col-md-3">
                                   <div class="font-blue">
                                       JOB{{item.jobId}}
                                   </div>
                                </div>     
                                <div class="col-md-5">
                                    <strong>{{::$root.config.labels["Jobs_SubmittedDate"]}}: </strong>
                                    <span>&nbsp;{{$ctrl.getDateTime(item.submittedDateTime)}}</span>
                                </div>                           
                            </div>
                            <div class="row jobs__secondrow">
                                <div class="col-md-3">
                                    <i class="fonticon2-project jobs__projecticon--size"></i>
                                    <span bp-tooltip="{{item.project}}" bp-tooltip-truncated="true">{{item.project}}</span>
                                </div>
                                <div class="col-md-5">
                                    <strong>{{::$root.config.labels["Jobs_StartDate"]}}: </strong>
                                    <span>{{$ctrl.getDateTime(item.jobStartDateTime)}}</span>
                                </div>
                                <div class="col-md-4" ng-class="{job__invalidStatus: !$ctrl.isValidStatus(item.status)}">
                                    <strong>{{::$root.config.labels["Jobs_Status"]}}:&nbsp;</strong>
                                    <span ng-if="$ctrl.isJobRunning(item.status)">{{item.progress}}% Completed</span>
                                    <span ng-if="!$ctrl.isJobRunning(item.status)"> {{$ctrl.getStatus(item.status)}}</span>                                    
                                </div>                           
                            </div>
                            <div class="row jobs__thirdrow">                       
                                <div class="col-md-3  bp-tooltip="{{item.userDisplayName}}" bp-tooltip-truncated="true"">
                                    <strong>{{::$root.config.labels["Jobs_User"]}}: </strong>
                                    <span>{{item.userDisplayName}}</span>
                                </div>
                                <div class="col-md-5">
                                    <strong>{{::$root.config.labels["Jobs_EndDate"]}}: </strong>
                                    <span> {{$ctrl.getDateTime(item.jobEndDateTime)}}</span>
                                </div>
                                <div class="col-md-4">
                                    <uib-progressbar ng-if="$ctrl.isJobRunning(item.status)" value="item.progress"></uib-progressbar>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <h2 class="margin-top--none jobs__text--no-wrap jobs__action-items--center">
                                <button class="btn btn-default btn__icon" ng-if="$ctrl.canDownload(item.status)" ng-click="$ctrl.downloadItem()" bp-tooltip="{{$ctrl.localization.get('App_Button_Download')}}">
                                    <i class="fonticon2-download jobs__action-icons--color jobs__icon--size"></i>
                                </button>
                                <button class="btn btn-default btn__icon" ng-if="$ctrl.canRefresh(item.status)" ng-click="$ctrl.refreshJob(item.jobId)" bp-tooltip="{{$ctrl.localization.get('App_Button_Refresh')}}">
                                    <i class="fonticon2-refresh-line jobs__action-icons--color jobs__icon--size"></i>
                                </button>                                
                            <h2>
                        </div>
                    </div>
                </li>
            </ul>                
        </div>
        <div class="jobs__response" ng-if="$ctrl.isJobsEmpty() && !$ctrl.isLoading">
            <div class="center-item font-larger">
                <span>{{::$root.config.labels["Jobs_Empty"]}}</span>
            </div>
        </div>
    </div>
</div>