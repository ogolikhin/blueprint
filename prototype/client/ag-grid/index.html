<html>
<head>
	<title>ag-grid</title>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

    <!-- <script src="https://code.jquery.com/jquery-1.12.2.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
    <script src="dragdrop.js"></script>
    <script src="ag-grid.js"></script>
    <script src="app.js"></script>
	
	<style>
	html, body {
		margin: 0;
		padding: 0;
		height: 100%;
	}
	#top-bar {
		line-height: 50px;
		height: 50px;
	}
	#main-container {
		height: calc(100% - 50px);
	}
	#centerPane {
		width: calc(50% - 10px);
		background: #cecece;
		color: #fff;
		position: relative;
	}
	#leftPane, #rightPane {
		width: calc(25% - 5px);
	}
	#rightPane { background: silver; }
	.ag-body {
		background-color: #474747;
		color: #fff;
		padding: 0 !important;
	}
	.myrow {
		font: normal 14px "Open Sans", sans-serif;
		line-height: 30px;
	}
	.myicon {
		width: 30px;
		display: inline-block;
		text-align: center;
	}
	.mychild2 {
		padding-left: 26px;
	}
	.mychild {
		padding-left: 55px;
	}
	.ag-row-level-2 .mychild {
		padding-left: 81px;
	}
	.myhightlight {
		font-weight: bold;
		background: yellow;
		color: black;
	}
	.mychild.word::before {
		content: "\f1c2";
		font: normal normal normal 14px/1 FontAwesome;
		font-size: inherit;
		margin-left: -30px;
		width: 30px;
		display: inline-block;
		text-align: center;
		color: lightblue;
	}
	.mychild.excel::before {
		content: "\f1c3";
		font: normal normal normal 14px/1 FontAwesome;
		font-size: inherit;
		margin-left: -30px;
		width: 30px;
		display: inline-block;
		text-align: center;
		color: green;
	}
	.myrow.ag-row-focus {
		border-radius: 4px;
		background: #3e3e3e;
	}
	.mychild.ag-cell-focus {
		border-radius: 4px;
		background: #019cde !important;
		color: #fff !important;
	}
	.mychild.ag-cell-focus.word::before,
	.mychild.ag-cell-focus.excel::before {
		color: #fff;
	}
	
	
  .split p {
    padding: 20px;
  }

  .split {
    -webkit-box-sizing: border-box;
       -moz-box-sizing: border-box;
            box-sizing: border-box;

    overflow-y: auto;
    overflow-x: hidden;
  }

  .gutter {
    background-color: #eee;

    background-repeat: no-repeat;
    background-position: 50%;
  }

  .gutter.gutter-horizontal {
    background-image: url('grips/vertical.png');
    cursor: ew-resize;
  }

  .gutter.gutter-vertical {
    background-image: url('grips/horizontal.png');
    cursor: ns-resize;
  }

  .split.split-horizontal, .gutter.gutter-horizontal {
    height: 100%;
    float: left;
  }
	</style>
</head>
<body ng-app="example" ng-controller="exampleCtrl">
	<div id="top-bar" style="overflow: hidden">
	Blueprint top bar
	- <a href="javascript:void(0)" onclick="closeLeft()">[close left]</a> | <a href="javascript:void(0)" onclick="openLeft()">[open left]</a>
	- <a href="javascript:void(0)" onclick="closeRight()">[close right]</a> | <a href="javascript:void(0)" onclick="openRight()">[open right]</a>
	</div>
	<div id="main-container">
		<div id="leftPane" ag-grid="gridOptions" class="mygrid split split-horizontal"></div>
		<div id="centerPane" ui-on-drop="onDrop($data)" droppable class="split split-horizontal">Drop zone</div>
		<div id="rightPane" class="split split-horizontal">Utility panel</div>
	</div>
</body>
<script src="split.js"></script>
<script>
    Split(['#leftPane', '#centerPane', "#rightPane"], {
        sizes: [25, 50, 25],
        minSize: 200
    });
	
	function parseWidth(str) {
		var regex = /\d+(\.\d+)?%/g;

		var floats = str.match(regex).map(function(v) { return parseFloat(v); });

		return floats.join("");
	}

	var leftOpen = true;
	var rightOpen = true;

	function closeLeft() {
		document.getElementById('leftPane').style.width = "0";
		if(rightOpen) {
			var width = document.getElementById('rightPane').style.width;
			width = 100 - parseFloat(parseWidth(width));
			width = "calc(" + width + "% - 15px)";
			document.getElementById('centerPane').style.width = width;
		} else {
			document.getElementById('centerPane').style.width = "calc(100% - 20px)";
		}
		leftOpen = false;
		return false;
	}

	function openLeft() {
		document.getElementById('leftPane').style.width = "calc(25% - 5px)";
		if(rightOpen) {
			var width = document.getElementById('rightPane').style.width;
			width = 75 - parseFloat(parseWidth(width));
			width = "calc(" + width + "% - 10px)";
			document.getElementById('centerPane').style.width = width;
		} else {
			document.getElementById('centerPane').style.width = "calc(75% - 15px)";
		}
		leftOpen = true;
		return false;
	}

	function closeRight() {
		document.getElementById('rightPane').style.width = "0";
		if(leftOpen) {
			var width = document.getElementById('leftPane').style.width;
			width = 100 - parseFloat(parseWidth(width));
			width = "calc(" + width + "% - 15px)";
			document.getElementById('centerPane').style.width = width;
		} else {
			document.getElementById('centerPane').style.width = "calc(100% - 20px)";
		}
		rightOpen = false;
		return false;
	}

	function openRight() {
		document.getElementById('rightPane').style.width = "calc(25% - 5px)";
		if(leftOpen) {
			var width = document.getElementById('leftPane').style.width;
			width = 75 - parseFloat(parseWidth(width));
			width = "calc(" + width + "% - 10px)";
			document.getElementById('centerPane').style.width = width;
		} else {
			document.getElementById('centerPane').style.width = "calc(75% - 15px)";
		}
		rightOpen = true;
		return false;
	}
</script>
</html>
